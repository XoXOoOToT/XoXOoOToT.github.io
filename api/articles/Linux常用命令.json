{"title":"Linux常用命令","uid":"596309cd0250881615133cb44c237a29","slug":"Linux常用命令","date":"2021-07-07T03:08:45.000Z","updated":"2021-07-08T06:02:00.006Z","comments":true,"path":"api/articles/Linux常用命令.json","keywords":null,"cover":"/images/Linux-back.png","content":"<p><img src=\"/post/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/back.png\" alt=\"back.png\"></p>\n<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>在工作的时候有的时候会兼职一下运维，所以记录一下平常我平常比较常用的命令，省的在去百度之类的。</p>\n<h1 id=\"动态扩容\"><a href=\"#动态扩容\" class=\"headerlink\" title=\"动态扩容\"></a>动态扩容</h1><p>因为之前虚拟化服务器后，系统的分区都是采用默认的分配方式，后面发现在根目录下的容量都只有50G，而剩余动态扩容的容量都被挂载在/home下。所以需要将/home下的容量分配给/下。</p>\n<span id=\"more\"></span>\n\n\n\n<p><strong>以下操作是基于 Centos7</strong></p>\n<p>查看磁盘状况：   </p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">df -h<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"/post/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/df-h.png\" alt=\"df-h\"></p>\n<p>上图就是默认的分区的产生的磁盘分区的结构，可以看见/home下可用的空间为441G。</p>\n<p>这个时候重新分配容量的逻辑就是：</p>\n<ul>\n<li>将/home下的文件进行备份</li>\n<li>卸载/home目录（即这个逻辑卷卸载）</li>\n<li>删除/home逻辑卷。删除后就会有441G的空余容量，此时才开始分配容量</li>\n<li>将容量分配给根目录逻辑卷</li>\n<li>同步文件系统，完成真正的扩容</li>\n<li>创建/home逻辑卷，并重新挂载，再将备份还原到/home下</li>\n</ul>\n<p><strong>具体操作如下：</strong></p>\n<p>1、将/home下的文件进行备份</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#因为我的/run目录的可用空间4G，所以我将/home的备份文件放到/run目录下。备份路径可根据实际情况更改。</span>\n<span class=\"token function\">tar</span>  -cvf   /run/home.tar /home <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>2、卸载/home目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#安装，不然fuser可能无法使用</span>\nyum -y <span class=\"token function\">install</span> psmisc\n<span class=\"token comment\">#关闭home下的进程</span>\n<span class=\"token function\">fuser</span> -km /home/   \n<span class=\"token comment\">#卸载home目录</span>\n<span class=\"token function\">umount</span> /home       <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>3、删除/home逻辑卷</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">lvremove /dev/mapper/centos-home<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>4、将容量分配给根目录逻辑卷</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">lvextend -L +200G /dev/mapper/centos-root\t<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>5、同步文件系统</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">xfs_growfs /dev/mapper/centos-root<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>6、创建/home逻辑卷，并重新挂载，再将备份还原到/home下</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#重建home的逻辑卷</span>\nlvcreate -L 240G -n/dev/mapper/centos-home\t\n<span class=\"token comment\">#创建home的文件系统</span>\nmkfs.xfs /dev/mapper/centos-home\n<span class=\"token comment\">#将新建的文件系统挂载到home目录下</span>\n<span class=\"token function\">mount</span> /dev/mapper/centos-home /home\t\n<span class=\"token comment\">#恢复home目录内容</span>\n<span class=\"token function\">tar</span> -xvf /run/home.tar -C /<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<h1 id=\"防火墙\"><a href=\"#防火墙\" class=\"headerlink\" title=\"防火墙\"></a>防火墙</h1><p><strong>Centos7：</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#开启80端口</span>\nfirewall-cmd --zone<span class=\"token operator\">=</span>public --add-port<span class=\"token operator\">=</span><span class=\"token number\">80</span>/tcp --permanent\n<span class=\"token comment\">#关闭80端口</span>\nfirewall-cmd --zone<span class=\"token operator\">=</span>public --remove-port<span class=\"token operator\">=</span><span class=\"token number\">80</span>/tcp --permanent\n<span class=\"token comment\">#查看80端口</span>\nfirewall-cmd --zone<span class=\"token operator\">=</span>public --query-port<span class=\"token operator\">=</span><span class=\"token number\">80</span>/tcp --permanent\n\n<span class=\"token comment\">#重新加载</span>\nfirewall-cmd --reload\n<span class=\"token comment\">#启动防火墙</span>\nsystemctl start firewalld\n<span class=\"token comment\">#关闭防火墙</span>\nsystemctl stop firewalld\n<span class=\"token comment\">#重启防火墙</span>\nsystemctl restart firewalld\n<span class=\"token comment\">#查看状态</span>\nsystemctl status firewalld\n<span class=\"token comment\">#systemctl是centos7中的命令，其实启动服务也可以使用service，在7中也是兼容这个命令的</span>\n<span class=\"token function\">service</span> firewalld start <span class=\"token operator\">|</span> stop <span class=\"token operator\">|</span> status   \n\n<span class=\"token comment\">#开机自启开启 | 关闭</span>\nsystemctl <span class=\"token builtin class-name\">enable</span> <span class=\"token operator\">|</span> disable firewalld\n\n<span class=\"token comment\">#查看所有打开的端口</span>\nfirewall-cmd --zone<span class=\"token operator\">=</span>public --list-ports\n\n<span class=\"token comment\">#开放指定端口给 指定ip访问</span>\nfirewall-cmd --permanent --add-rich-rule<span class=\"token operator\">=</span><span class=\"token string\">\"rule family=\"</span>ipv4<span class=\"token string\">\" source address=\"</span><span class=\"token number\">1.1</span>.1.1<span class=\"token string\">\" port protocol=\"</span>tcp<span class=\"token string\">\" port=\"</span><span class=\"token number\">5432</span><span class=\"token string\">\" accept\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<h1 id=\"查找\"><a href=\"#查找\" class=\"headerlink\" title=\"查找\"></a>查找</h1><ul>\n<li>grep forest f.txt     #文件查找</li>\n<li>grep forest f.txt cpf.txt #多文件查找</li>\n<li>grep ‘log’ /home/admin -r -n #目录下查找所有符合关键字的文件</li>\n<li>cat f.txt | grep -i shopbase </li>\n<li>grep ‘shop’ /home/admin -r -n –include *.{vm,java} #指定文件后缀</li>\n<li>grep ‘shop’ /home/admin -r -n –exclude *.{vm,java} #反匹配</li>\n</ul>\n<h1 id=\"新增硬盘动态扩容到根目录\"><a href=\"#新增硬盘动态扩容到根目录\" class=\"headerlink\" title=\"新增硬盘动态扩容到根目录\"></a>新增硬盘动态扩容到根目录</h1><h2 id=\"给虚拟机添加硬盘\"><a href=\"#给虚拟机添加硬盘\" class=\"headerlink\" title=\"给虚拟机添加硬盘\"></a>给虚拟机添加硬盘</h2><p><img src=\"/post/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/1557896804217.png\" alt=\"1557896804217\"></p>\n<p><img src=\"/post/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/1557896850199.png\" alt=\"1557896850199\"></p>\n<p><img src=\"/post/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/1557896881872.png\" alt=\"1557896881872\"></p>\n<p><img src=\"/post/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/1557896947023.png\" alt=\"1557896947023\"></p>\n<p><img src=\"/post/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/1557897033656.png\" alt=\"1557897033656\"></p>\n<h2 id=\"给新增的硬盘分区\"><a href=\"#给新增的硬盘分区\" class=\"headerlink\" title=\"给新增的硬盘分区\"></a>给新增的硬盘分区</h2><p>进入系统。开始分区</p>\n<p>像这种新增的硬盘用命令 df -h 是看不到的，所以要使用fdisk -l查看。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># fdisk -l</span>\n\n<span class=\"token comment\">#这个是最早安装系统时分配的硬盘大小</span>\nDisk /dev/sda: <span class=\"token number\">17.2</span> GB, <span class=\"token number\">17179869184</span> bytes, <span class=\"token number\">33554432</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nDisk label type: dos\nDisk identifier: 0x0000d07f\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1   *        <span class=\"token number\">2048</span>     <span class=\"token number\">2099199</span>     <span class=\"token number\">1048576</span>   <span class=\"token number\">83</span>  Linux\n/dev/sda2         <span class=\"token number\">2099200</span>    <span class=\"token number\">33554431</span>    <span class=\"token number\">15727616</span>   8e  Linux LVM\n\n\n<span class=\"token comment\">#这个是我第一次新增的硬盘，这个已经扩容到根目录下了。</span>\nDisk /dev/sdb: <span class=\"token number\">17.2</span> GB, <span class=\"token number\">17179869184</span> bytes, <span class=\"token number\">33554432</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nDisk label type: dos\nDisk identifier: 0xdc58bb63\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1            <span class=\"token number\">2048</span>    <span class=\"token number\">33554431</span>    <span class=\"token number\">16776192</span>   8e  Linux LVM\n\n\n<span class=\"token comment\">#这个是我第二次新增的硬盘，下面将把这个扩容到根目录下。记住硬盘路径 /dev/sdc，分区的时候会用到</span>\nDisk /dev/sdc: <span class=\"token number\">17.2</span> GB, <span class=\"token number\">17179869184</span> bytes, <span class=\"token number\">33554432</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\n\n\n<span class=\"token comment\">#这里就是我们根目录的大小。</span>\nDisk /dev/mapper/centos-root: <span class=\"token number\">30.9</span> GB, <span class=\"token number\">30920409088</span> bytes, <span class=\"token number\">60391424</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\n\n<span class=\"token comment\">#这个是交换分区的大小</span>\nDisk /dev/mapper/centos-swap: <span class=\"token number\">1719</span> MB, <span class=\"token number\">1719664640</span> bytes, <span class=\"token number\">3358720</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"新增硬盘分区和扩容\"><a href=\"#新增硬盘分区和扩容\" class=\"headerlink\" title=\"新增硬盘分区和扩容\"></a>新增硬盘分区和扩容</h3><h4 id=\"硬盘分区\"><a href=\"#硬盘分区\" class=\"headerlink\" title=\"硬盘分区\"></a>硬盘分区</h4><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"><span class=\"token comment\">#这个对应上面的新增硬盘路径，</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># fdisk /dev/sdc</span>\n\n<span class=\"token comment\">###########这边就是进入到硬盘的分区。########################333</span>\nWelcome to <span class=\"token function\">fdisk</span> <span class=\"token punctuation\">(</span>util-linux <span class=\"token number\">2.23</span>.2<span class=\"token punctuation\">)</span>.\n\nChanges will remain <span class=\"token keyword\">in</span> memory only, <span class=\"token keyword\">until</span> you decide to <span class=\"token function\">write</span> them.\nBe careful before using the <span class=\"token function\">write</span> command.\n\nDevice does not contain a recognized partition table\nBuilding a new DOS disklabel with disk identifier 0x3781fe3e.\n\n<span class=\"token comment\">###############这里是主要操作。输入m查看对应命令</span>\nCommand <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: m\nCommand action\n   a   toggle a bootable flag            \n   b   edit bsd disklabel\n   c   toggle the dos compatibility flag\n   d   delete a partition\n   g   create a new empty GPT partition table\n   G   create an IRIX <span class=\"token punctuation\">(</span>SGI<span class=\"token punctuation\">)</span> partition table\n   l   list known partition types\n   m   print this menu \n   n   <span class=\"token function\">add</span> a new partition                         <span class=\"token comment\">#新增分区，这个也常用到</span>\n   o   create a new empty DOS partition table\n   p   print the partition table                    <span class=\"token comment\">#查看分区表。这个经常用到</span>\n   q   quit without saving changes\n   s   create a new empty Sun disklabel\n   t   change a partition<span class=\"token string\">'s system id              #修改分区的类型，默认是LINUX，我们等下要改成                                                     LINUX LVM(动态)\n   u   change display/entry units\n   v   verify the partition table\n   w   write table to disk and exit                #保存分区并退出\n   x   extra functionality (experts only)\n\n##############接下来开始 新建分区，输入n\nCommand (m for help): n\n##这里选择分区类型，是主分区还是扩展，我们选择主分区。\nPartition type:\n   p   primary (0 primary, 0 extended, 4 free)\n   e   extended\n###选择主分区\nSelect (default p): p\n##主分区只能有4个，因为这个我第二个分区，所以我从2开始。\nPartition number (1-4, default 1): 2\n##这个是磁盘的扇区气起始位置，默认即可\nFirst sector (2048-33554431, default 2048): \nUsing default value 2048\n##这个为磁盘扇区结束位置。默认即可\nLast sector, +sectors or +size&#123;K,M,G&#125; (2048-33554431, default 33554431): \nUsing default value 33554431\n###可以看到16G的分区已经出来了。\nPartition 2 of type Linux and of size 16 GiB is set\n\n###########这个时候查看已经建完的分区  \nCommand (m for help): p\n\nDisk /dev/sdc: 17.2 GB, 17179869184 bytes, 33554432 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0x3781fe3e\n\n#### 这个分区已经分区完成，挂载在/dev/sdc2路径，且分区格式是LINUX，现在我们要将格式改为LVM。\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdc2            2048    33554431    16776192   83  Linux\n\n####开始修改分区格式\nCommand (m for help): t\nSelected partition 2\n#输入 8e，修改LVM\nHex code (type L to list all codes): 8e\n#修改成功\nChanged type of partition '</span>Linux<span class=\"token string\">' to '</span>Linux LVM'\n<span class=\"token comment\">##再次查看是否成功</span>\nCommand <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: p\n\nDisk /dev/sdc: <span class=\"token number\">17.2</span> GB, <span class=\"token number\">17179869184</span> bytes, <span class=\"token number\">33554432</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nDisk label type: dos\nDisk identifier: 0x3781fe3e\n<span class=\"token comment\">####变成了LVM</span>\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdc2            <span class=\"token number\">2048</span>    <span class=\"token number\">33554431</span>    <span class=\"token number\">16776192</span>   8e  Linux LVM\n\n<span class=\"token comment\">###保存即可。</span>\nCommand <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: w\nThe partition table has been altered<span class=\"token operator\">!</span>\n\nCalling ioctl<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> to re-read partition table.\nSyncing disks.\n<span class=\"token comment\">############至此分区完成。</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n\n\n<h4 id=\"扩容\"><a href=\"#扩容\" class=\"headerlink\" title=\"扩容\"></a>扩容</h4><p>这个时候开始将刚才分完的空间扩容给根目录。</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"><span class=\"token comment\">#进入LVM模式，开始扩容</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># lvm</span>\n<span class=\"token comment\">#创建pv  这个路径对应上面的路径</span>\nlvm<span class=\"token operator\">></span> pvcreate /dev/sdc2\n  Physical volume <span class=\"token string\">\"/dev/sdc2\"</span> successfully created.\n<span class=\"token comment\">##先查看一下卷组</span>\nlvm<span class=\"token operator\">></span> pvdisplay\n\n <span class=\"token comment\">###这里可以看到物理卷组的信息</span>\n  --- Physical volume ---\n  PV Name               /dev/sda2\n  <span class=\"token comment\">###这个VG Name对应的值就是我们等下要添加的卷组，这里是centos.</span>\n  VG Name               centos\n  PV Size               <span class=\"token operator\">&lt;</span><span class=\"token number\">15.00</span> GiB / not usable <span class=\"token number\">3.00</span> MiB\n  Allocatable           <span class=\"token function\">yes</span> <span class=\"token punctuation\">(</span>but full<span class=\"token punctuation\">)</span>\n  PE Size               <span class=\"token number\">4.00</span> MiB\n  Total PE              <span class=\"token number\">3839</span>\n  Free PE               <span class=\"token number\">0</span>\n  Allocated PE          <span class=\"token number\">3839</span>\n  PV UUID               TmCzjX-TDeL-7hNM-e4Am-5Zyv-05Hi-cuc9Lc\n   \n  --- Physical volume ---\n  PV Name               /dev/sdb1\n  VG Name               centos\n  PV Size               <span class=\"token operator\">&lt;</span><span class=\"token number\">16.00</span> GiB / not usable <span class=\"token number\">3.00</span> MiB\n  Allocatable           <span class=\"token function\">yes</span> <span class=\"token punctuation\">(</span>but full<span class=\"token punctuation\">)</span>\n  PE Size               <span class=\"token number\">4.00</span> MiB\n  Total PE              <span class=\"token number\">4095</span>\n  Free PE               <span class=\"token number\">0</span>\n  Allocated PE          <span class=\"token number\">4095</span>\n  PV UUID               Xyp72C-5CNl-Nww5-9SO1-Jncc-TX56-nfq9rR\n<span class=\"token comment\">###往这个卷组里面添加  我们的硬盘路径。</span>\nlvm<span class=\"token operator\">></span> vgextend centos /dev/sdc2\n  Volume group <span class=\"token string\">\"centos\"</span> successfully extended\n<span class=\"token comment\">### 然后就可以把容量转给根目录。</span>\nlvm<span class=\"token operator\">></span> lvextend -L +15G /dev/mapper/centos-root\n  Size of logical volume centos/root changed from <span class=\"token operator\">&lt;</span><span class=\"token number\">28.80</span> GiB <span class=\"token punctuation\">(</span><span class=\"token number\">7372</span> extents<span class=\"token punctuation\">)</span> to <span class=\"token operator\">&lt;</span><span class=\"token number\">43.80</span> GiB <span class=\"token punctuation\">(</span><span class=\"token number\">11212</span> extents<span class=\"token punctuation\">)</span>.\n  Logical volume centos/root successfully resized.\n<span class=\"token comment\">#退出  </span>\nlvm<span class=\"token operator\">></span> quit\n\n\n<span class=\"token comment\">##这个时候还没有真正的把容量扩过去，还需执行一个命令（这里需要根据系统文件格式来执行不同的命令）</span>\n<span class=\"token comment\">#我们先查看根目录的文件格式 ---》可以看到是xfs</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat /etc/fstab | grep centos-root</span>\n/dev/mapper/centos-root /                       xfs     defaults        <span class=\"token number\">0</span> <span class=\"token number\">0</span>\n\n<span class=\"token comment\">#这里就用xfs的命令来进行最后的扩容</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#  xfs_growfs /dev/mapper/centos-root</span>\n<span class=\"token comment\">########结果###############</span>\nmeta-data<span class=\"token operator\">=</span>/dev/mapper/centos-root <span class=\"token assign-left variable\">isize</span><span class=\"token operator\">=</span><span class=\"token number\">512</span>    <span class=\"token assign-left variable\">agcount</span><span class=\"token operator\">=</span><span class=\"token number\">9</span>, <span class=\"token assign-left variable\">agsize</span><span class=\"token operator\">=</span><span class=\"token number\">877824</span> blks\n         <span class=\"token operator\">=</span>                       <span class=\"token assign-left variable\">sectsz</span><span class=\"token operator\">=</span><span class=\"token number\">512</span>   <span class=\"token assign-left variable\">attr</span><span class=\"token operator\">=</span><span class=\"token number\">2</span>, <span class=\"token assign-left variable\">projid32bit</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>\n         <span class=\"token operator\">=</span>                       <span class=\"token assign-left variable\">crc</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>        <span class=\"token assign-left variable\">finobt</span><span class=\"token operator\">=</span><span class=\"token number\">0</span> <span class=\"token assign-left variable\">spinodes</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>\ndata     <span class=\"token operator\">=</span>                       <span class=\"token assign-left variable\">bsize</span><span class=\"token operator\">=</span><span class=\"token number\">4096</span>   <span class=\"token assign-left variable\">blocks</span><span class=\"token operator\">=</span><span class=\"token number\">7548928</span>, <span class=\"token assign-left variable\">imaxpct</span><span class=\"token operator\">=</span><span class=\"token number\">25</span>\n         <span class=\"token operator\">=</span>                       <span class=\"token assign-left variable\">sunit</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>      <span class=\"token assign-left variable\">swidth</span><span class=\"token operator\">=</span><span class=\"token number\">0</span> blks\nnaming   <span class=\"token operator\">=</span>version <span class=\"token number\">2</span>              <span class=\"token assign-left variable\">bsize</span><span class=\"token operator\">=</span><span class=\"token number\">4096</span>   ascii-ci<span class=\"token operator\">=</span><span class=\"token number\">0</span> <span class=\"token assign-left variable\">ftype</span><span class=\"token operator\">=</span><span class=\"token number\">1</span>\nlog      <span class=\"token operator\">=</span>internal               <span class=\"token assign-left variable\">bsize</span><span class=\"token operator\">=</span><span class=\"token number\">4096</span>   <span class=\"token assign-left variable\">blocks</span><span class=\"token operator\">=</span><span class=\"token number\">2560</span>, <span class=\"token assign-left variable\">version</span><span class=\"token operator\">=</span><span class=\"token number\">2</span>\n         <span class=\"token operator\">=</span>                       <span class=\"token assign-left variable\">sectsz</span><span class=\"token operator\">=</span><span class=\"token number\">512</span>   <span class=\"token assign-left variable\">sunit</span><span class=\"token operator\">=</span><span class=\"token number\">0</span> blks, lazy-count<span class=\"token operator\">=</span><span class=\"token number\">1</span>\nrealtime <span class=\"token operator\">=</span>none                   <span class=\"token assign-left variable\">extsz</span><span class=\"token operator\">=</span><span class=\"token number\">4096</span>   <span class=\"token assign-left variable\">blocks</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>, <span class=\"token assign-left variable\">rtextents</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>\ndata blocks changed from <span class=\"token number\">7548928</span> to <span class=\"token number\">11481088</span>\n<span class=\"token comment\">########结果###############</span>\n\n<span class=\"token comment\">##查看是否成功，</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># df -h</span>\nFilesystem               Size  Used Avail Use% Mounted on\n/dev/mapper/centos-root   44G 1010M   43G   <span class=\"token number\">3</span>% /\ndevtmpfs                 899M     <span class=\"token number\">0</span>  899M   <span class=\"token number\">0</span>% /dev\ntmpfs                    911M     <span class=\"token number\">0</span>  911M   <span class=\"token number\">0</span>% /dev/shm\ntmpfs                    911M  <span class=\"token number\">9</span>.5M  902M   <span class=\"token number\">2</span>% /run\ntmpfs                    911M     <span class=\"token number\">0</span>  911M   <span class=\"token number\">0</span>% /sys/fs/cgroup\n/dev/sda1               1014M  142M  873M  <span class=\"token number\">14</span>% /boot\ntmpfs                    183M     <span class=\"token number\">0</span>  183M   <span class=\"token number\">0</span>% /run/user/0\n\n\n\n\n<span class=\"token comment\">###查看是否添加成功</span>\n\n<span class=\"token comment\">###这个是还没扩容前</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># df -h</span>\nFilesystem               Size  Used Avail Use% Mounted on\n/dev/mapper/centos-root   29G 1010M   28G   <span class=\"token number\">4</span>% /\ndevtmpfs                 899M     <span class=\"token number\">0</span>  899M   <span class=\"token number\">0</span>% /dev\ntmpfs                    911M     <span class=\"token number\">0</span>  911M   <span class=\"token number\">0</span>% /dev/shm\ntmpfs                    911M  <span class=\"token number\">9</span>.5M  902M   <span class=\"token number\">2</span>% /run\ntmpfs                    911M     <span class=\"token number\">0</span>  911M   <span class=\"token number\">0</span>% /sys/fs/cgroup\n/dev/sda1               1014M  142M  873M  <span class=\"token number\">14</span>% /boot\ntmpfs                    183M     <span class=\"token number\">0</span>  183M   <span class=\"token number\">0</span>% /run/user/0\n\n<span class=\"token comment\">####这个是扩容后，可以看到的确是增加了15G.</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># df -h</span>\nFilesystem               Size  Used Avail Use% Mounted on\n/dev/mapper/centos-root   44G 1010M   43G   <span class=\"token number\">3</span>% /\ndevtmpfs                 899M     <span class=\"token number\">0</span>  899M   <span class=\"token number\">0</span>% /dev\ntmpfs                    911M     <span class=\"token number\">0</span>  911M   <span class=\"token number\">0</span>% /dev/shm\ntmpfs                    911M  <span class=\"token number\">9</span>.5M  902M   <span class=\"token number\">2</span>% /run\ntmpfs                    911M     <span class=\"token number\">0</span>  911M   <span class=\"token number\">0</span>% /sys/fs/cgroup\n/dev/sda1               1014M  142M  873M  <span class=\"token number\">14</span>% /boot\ntmpfs                    183M     <span class=\"token number\">0</span>  183M   <span class=\"token number\">0</span>% /run/user/0\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h1 id=\"新增硬盘挂载到其它目录\"><a href=\"#新增硬盘挂载到其它目录\" class=\"headerlink\" title=\"新增硬盘挂载到其它目录\"></a>新增硬盘挂载到其它目录</h1><p>新增硬盘可以查看6.1，操作是一样。</p>\n<h2 id=\"硬盘分区及格式化\"><a href=\"#硬盘分区及格式化\" class=\"headerlink\" title=\"硬盘分区及格式化\"></a>硬盘分区及格式化</h2><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"><span class=\"token comment\">#这个分区和第6章并无差别。</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># fdisk /dev/sdd</span>\nWelcome to <span class=\"token function\">fdisk</span> <span class=\"token punctuation\">(</span>util-linux <span class=\"token number\">2.23</span>.2<span class=\"token punctuation\">)</span>.\n\nChanges will remain <span class=\"token keyword\">in</span> memory only, <span class=\"token keyword\">until</span> you decide to <span class=\"token function\">write</span> them.\nBe careful before using the <span class=\"token function\">write</span> command.\n\nDevice does not contain a recognized partition table\nBuilding a new DOS disklabel with disk identifier 0x971a5778.\n<span class=\"token comment\">##查看帮助</span>\nCommand <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: m\nCommand action\n   a   toggle a bootable flag\n   b   edit bsd disklabel\n   c   toggle the dos compatibility flag\n   d   delete a partition\n   g   create a new empty GPT partition table\n   G   create an IRIX <span class=\"token punctuation\">(</span>SGI<span class=\"token punctuation\">)</span> partition table\n   l   list known partition types\n   m   print this menu\n   n   <span class=\"token function\">add</span> a new partition\n   o   create a new empty DOS partition table\n   p   print the partition table\n   q   quit without saving changes\n   s   create a new empty Sun disklabel\n   t   change a partition<span class=\"token string\">'s system id\n   u   change display/entry units\n   v   verify the partition table\n   w   write table to disk and exit\n   x   extra functionality (experts only)\n\n###创建新分区\nCommand (m for help): n\nPartition type:\n   p   primary (0 primary, 0 extended, 4 free)\n   e   extended\n##选择主分区\nSelect (default p): p\n##因为我上面创建了2个了，所以我选择3\nPartition number (1-4, default 1): 3\nFirst sector (2048-33554431, default 2048): \nUsing default value 2048\nLast sector, +sectors or +size&#123;K,M,G&#125; (2048-33554431, default 33554431): \nUsing default value 33554431\nPartition 3 of type Linux and of size 16 GiB is set\n\n#更改分区格式 为lvm，方便以后动态扩容。\nCommand (m for help): t\nSelected partition 3\nHex code (type L to list all codes): 8e\nChanged type of partition '</span>Linux<span class=\"token string\">' to '</span>Linux LVM'\n\nCommand <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: p\n\nDisk /dev/sdd: <span class=\"token number\">17.2</span> GB, <span class=\"token number\">17179869184</span> bytes, <span class=\"token number\">33554432</span> sectors\nUnits <span class=\"token operator\">=</span> sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">512</span> bytes\nDisk label type: dos\nDisk identifier: 0x971a5778\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdd3            <span class=\"token number\">2048</span>    <span class=\"token number\">33554431</span>    <span class=\"token number\">16776192</span>   8e  Linux LVM\n\n\n<span class=\"token comment\">###写入 保存并退出。</span>\nCommand <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: w\nThe partition table has been altered<span class=\"token operator\">!</span>\n\nCalling ioctl<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> to re-read partition table.\nSyncing disks.\n\n\n<span class=\"token comment\">####格式化硬盘  ext4是硬盘格式。</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mkfs -t ext4 -c /dev/sdd3</span>\n<span class=\"token function\">mke2fs</span> <span class=\"token number\">1.42</span>.9 <span class=\"token punctuation\">(</span><span class=\"token number\">28</span>-Dec-2013<span class=\"token punctuation\">)</span>\nFilesystem <span class=\"token assign-left variable\">label</span><span class=\"token operator\">=</span>\nOS type: Linux\nBlock <span class=\"token assign-left variable\">size</span><span class=\"token operator\">=</span><span class=\"token number\">4096</span> <span class=\"token punctuation\">(</span>log<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\nFragment <span class=\"token assign-left variable\">size</span><span class=\"token operator\">=</span><span class=\"token number\">4096</span> <span class=\"token punctuation\">(</span>log<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token assign-left variable\">Stride</span><span class=\"token operator\">=</span><span class=\"token number\">0</span> blocks, Stripe <span class=\"token assign-left variable\">width</span><span class=\"token operator\">=</span><span class=\"token number\">0</span> blocks\n<span class=\"token number\">1048576</span> inodes, <span class=\"token number\">4194048</span> blocks\n<span class=\"token number\">209702</span> blocks <span class=\"token punctuation\">(</span><span class=\"token number\">5.00</span>%<span class=\"token punctuation\">)</span> reserved <span class=\"token keyword\">for</span> the super user\nFirst data <span class=\"token assign-left variable\">block</span><span class=\"token operator\">=</span><span class=\"token number\">0</span>\nMaximum filesystem <span class=\"token assign-left variable\">blocks</span><span class=\"token operator\">=</span><span class=\"token number\">4294967296</span>\n<span class=\"token number\">128</span> block <span class=\"token function\">groups</span>\n<span class=\"token number\">32768</span> blocks per group, <span class=\"token number\">32768</span> fragments per group\n<span class=\"token number\">8192</span> inodes per group\nSuperblock backups stored on blocks: \n\t<span class=\"token number\">32768</span>, <span class=\"token number\">98304</span>, <span class=\"token number\">163840</span>, <span class=\"token number\">229376</span>, <span class=\"token number\">294912</span>, <span class=\"token number\">819200</span>, <span class=\"token number\">884736</span>, <span class=\"token number\">1605632</span>, <span class=\"token number\">2654208</span>, \n\t<span class=\"token number\">4096000</span>\n\nChecking <span class=\"token keyword\">for</span> bad blocks <span class=\"token punctuation\">(</span>read-only <span class=\"token builtin class-name\">test</span><span class=\"token punctuation\">)</span>: <span class=\"token keyword\">done</span>                                                 \nAllocating group tables: <span class=\"token keyword\">done</span>                            \nWriting inode tables: <span class=\"token keyword\">done</span>                            \nCreating journal <span class=\"token punctuation\">(</span><span class=\"token number\">32768</span> blocks<span class=\"token punctuation\">)</span>: <span class=\"token keyword\">done</span>\nWriting superblocks and filesystem accounting information:        \n<span class=\"token keyword\">done</span>\n\n<span class=\"token comment\">###格式化完后，开始创建文件夹，然后挂载硬盘</span>\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># mkdir /mnt/sdd</span>\n<span class=\"token comment\">##挂载。</span>\n<span class=\"token punctuation\">[</span>root@localhost /<span class=\"token punctuation\">]</span><span class=\"token comment\"># mount /dev/sdd3 /mnt/sdd</span>\n<span class=\"token comment\">##查看是否挂载成功</span>\n<span class=\"token punctuation\">[</span>root@localhost /<span class=\"token punctuation\">]</span><span class=\"token comment\"># df -h</span>\nFilesystem               Size  Used Avail Use% Mounted on\n/dev/mapper/centos-root   44G 1010M   43G   <span class=\"token number\">3</span>% /\ndevtmpfs                 899M     <span class=\"token number\">0</span>  899M   <span class=\"token number\">0</span>% /dev\ntmpfs                    911M     <span class=\"token number\">0</span>  911M   <span class=\"token number\">0</span>% /dev/shm\ntmpfs                    911M  <span class=\"token number\">9</span>.5M  902M   <span class=\"token number\">2</span>% /run\ntmpfs                    911M     <span class=\"token number\">0</span>  911M   <span class=\"token number\">0</span>% /sys/fs/cgroup\n/dev/sda1               1014M  142M  873M  <span class=\"token number\">14</span>% /boot\ntmpfs                    183M     <span class=\"token number\">0</span>  183M   <span class=\"token number\">0</span>% /run/user/0\n<span class=\"token comment\">###被挂载在/mnt/sdd下</span>\n/dev/sdd3                 16G   45M   15G   <span class=\"token number\">1</span>% /mnt/sdd\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n","feature":true,"text":" 前言在工作的时候有的时候会兼职一下运维，所以记录一下平常我平常比较常用的命令，省的在去百度之类的。 动态扩容因为之前虚拟化服务器后，系统的分区都是采用默认的分配方式，后面发现在根目录下的容量都只有50G，而剩余动态扩容的容量都被挂载在/home下。所以需要将/home下的容量分...","link":"","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"Linux","slug":"Linux","count":1,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":1,"path":"api/tags/Linux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8A%A8%E6%80%81%E6%89%A9%E5%AE%B9\"><span class=\"toc-text\">动态扩容</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E9%98%B2%E7%81%AB%E5%A2%99\"><span class=\"toc-text\">防火墙</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E6%89%BE\"><span class=\"toc-text\">查找</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%A2%9E%E7%A1%AC%E7%9B%98%E5%8A%A8%E6%80%81%E6%89%A9%E5%AE%B9%E5%88%B0%E6%A0%B9%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">新增硬盘动态扩容到根目录</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BB%99%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%B7%BB%E5%8A%A0%E7%A1%AC%E7%9B%98\"><span class=\"toc-text\">给虚拟机添加硬盘</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BB%99%E6%96%B0%E5%A2%9E%E7%9A%84%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA\"><span class=\"toc-text\">给新增的硬盘分区</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%A2%9E%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E5%92%8C%E6%89%A9%E5%AE%B9\"><span class=\"toc-text\">新增硬盘分区和扩容</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA\"><span class=\"toc-text\">硬盘分区</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%89%A9%E5%AE%B9\"><span class=\"toc-text\">扩容</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%A2%9E%E7%A1%AC%E7%9B%98%E6%8C%82%E8%BD%BD%E5%88%B0%E5%85%B6%E5%AE%83%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">新增硬盘挂载到其它目录</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E5%8F%8A%E6%A0%BC%E5%BC%8F%E5%8C%96\"><span class=\"toc-text\">硬盘分区及格式化</span></a></li></ol></li></ol>","author":{"name":"96loveslife","slug":"blog-author","avatar":"/images/logo.jpg","link":"/","description":"为什么有一些人放屁可以放很大声? </br></br></br> <b>因为他可能穿了喇叭裤</b>","socials":{"github":"https://github.com/96loveslife","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"Mysql离线安装","uid":"cc28c8e7df72b9e1dcfbf18f5ae2769e","slug":"Mysql离线安装","date":"2019-07-08T07:26:09.000Z","updated":"2021-07-08T07:31:46.870Z","comments":true,"path":"api/articles/Mysql离线安装.json","keywords":null,"cover":"/images/3.jpg","text":" 前言因为部分原因，内网不能连上互联网，所以环境搭建只能使用离线安装的方法。在此记录一下mysql的5.7的离线安装。 MYSQL5.7版本基础环境安装首先将系统自带的mariadb删除 [root@localhost &#x2F;]# rpm -qa |grep mariadb...","link":"","photos":[],"count_time":{"symbolsCount":"9.9k","symbolsTime":"9 mins."},"categories":[{"name":"运维","slug":"运维","count":1,"path":"api/categories/运维.json"}],"tags":[{"name":"运维","slug":"运维","count":1,"path":"api/tags/运维.json"}],"author":{"name":"96loveslife","slug":"blog-author","avatar":"/images/logo.jpg","link":"/","description":"为什么有一些人放屁可以放很大声? </br></br></br> <b>因为他可能穿了喇叭裤</b>","socials":{"github":"https://github.com/96loveslife","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}